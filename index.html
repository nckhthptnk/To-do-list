                    // √Åp d·ª•ng m√†u cho c√°c √¥ th·ªùi gian
                    const timeCells = document.querySelectorAll('tbody td:first-child');
                    timeCells.forEach(cell => {
                        if (cell.textContent.includes('Ti·∫øt') || cell.textContent.includes('Ra ch∆°i') || cell.classList.contains('time-cell')) {
                            cell.style.cssText = colorScheme.timeCell + ` color: ${colorScheme.textColor}; padding: 12px; font-weight: bold; text-align: center;`;
                        }
                    });
                }
            }

            // T·∫£i m√†u ghi ch√∫ ƒë√£ l∆∞u
            const savedNoteColor = localStorage.getItem('noteColor');
            if (savedNoteColor) {
                const colorScheme = noteColorSchemes[savedNoteColor];
                if (colorScheme) {
                    // √Åp d·ª•ng m√†u cho t·∫•t c·∫£ c√°c d√≤ng ghi ch√∫
                    const noteRows = document.querySelectorAll('tr[style*="background"]');
                    noteRows.forEach(row => {
                        const firstCell = row.querySelector('td:first-child');
                        if (firstCell && firstCell.textContent.includes('üìù Ghi ch√∫')) {
                            // √Åp d·ª•ng m√†u cho d√≤ng ghi ch√∫
                            row.style.background = colorScheme.background;
                            
                            // √Åp d·ª•ng m√†u cho √¥ ƒë·∫ßu ti√™n (ti√™u ƒë·ªÅ ghi ch√∫)
                            firstCell.style.cssText = `background: ${colorScheme.background}; color: ${colorScheme.textColor}; padding: 8px; text-align: center; font-size: 12px; font-weight: 500; border: 1px solid ${colorScheme.borderColor};`;
                            
                            // √Åp d·ª•ng m√†u cho t·∫•t c·∫£ c√°c √¥ ghi ch√∫ trong d√≤ng n√†y
                            const noteCells = row.querySelectorAll('.note-cell');
                            noteCells.forEach(cell => {
                                cell.style.background = colorScheme.background;
                                cell.style.border = `1px solid ${colorScheme.borderColor}`;
                                
                                // C·∫≠p nh·∫≠t m√†u cho textarea trong √¥ ghi ch√∫
                                const textarea = cell.querySelector('textarea');
                                if (textarea) {
                                    textarea.style.background = colorScheme.background;
                                    textarea.style.color = colorScheme.textColor;
                                    textarea.style.border = `1px solid ${colorScheme.borderColor}`;
                                }
                            });
                        }
                    });
                }
            }
            
            // ƒê·∫£m b·∫£o t·∫•t c·∫£ √¥ n·ªôi dung lu√¥n c√≥ m√†u tr·∫Øng
            const contentCells = document.querySelectorAll('.schedule-cell, .note-cell');
            contentCells.forEach(cell => {
                if (!cell.style.background || cell.style.background === '') {
                    cell.style.background = 'white';
                }
            });
        }

        // Th√™m CSS animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(-10px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            .schedule-cell {
                transition: all 0.3s ease;
            }
            
            .schedule-cell:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            }
            
            .color-option div {
                transition: all 0.2s ease;
            }
        `;
        document.head.appendChild(style);

        // Kh·ªüi t·∫°o ·ª©ng d·ª•ng
        document.addEventListener('DOMContentLoaded', function() {
            initializeSchedule();
            setupAutoSave();
            
            // Th√™m event listener ƒë·ªÉ tho√°t ch·∫ø ƒë·ªô ch·ªçn m√†u khi nh·∫•n ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && colorMode) {
                    selectedColor = null;
                    colorMode = false;
                    document.body.style.cursor = 'default';
                    document.getElementById('selectedColorInfo').textContent = 'Ch∆∞a ch·ªçn m√†u n√†o';
                    document.querySelectorAll('.color-option div').forEach(div => {
                        div.style.transform = 'scale(1)';
                        div.style.boxShadow = 'none';
                    });
                    showNotification('ƒê√£ tho√°t ch·∫ø ƒë·ªô ch·ªçn m√†u');
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99075aace1e2fe11',t:'MTc2MDc4MzM2NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
